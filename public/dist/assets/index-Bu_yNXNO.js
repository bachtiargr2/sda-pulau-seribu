import{c as ie,r as ne,d as qe,j as t,b as Ee,u as Qe,H as Xe}from"./app-Bb5Jy5Wi.js";import{c as Ze,S as Pe,a as Ne,b as Te,d as we,e as Ae,L as $e,f as Fe,E as et,P as tt,D as at}from"./app-table-D6KC4Pz_.js";import{C as Ie}from"./checkbox-GdbGZxk-.js";import{c as st,B as C}from"./app-logo-icon-zjAQY0SR.js";import{S as lt,a as nt,b as it,c as ot,d as rt,e as ct,f as dt,t as be,D as ut,g as mt,h as ht,i as pt,j as ft,k as Re,A as xt,p as jt}from"./app-layout-D-dmCw8I.js";import{I as gt}from"./input-CtiRsyvy.js";import{L as re}from"./label-CdTcKUC_.js";import{D as Le,a as Me,b as ze,c as Ue,d as He,e as Ye,f as Ve,g as Je}from"./dialog-Bxewd3xD.js";import{I as ce}from"./input-error-CS0omWpi.js";import{u as _t,Y as St,D as Dt}from"./download-dialog-CQ-YVqGr.js";import{T as bt}from"./trash-DeyISsXL.js";import{S as kt}from"./status-column-CUl-31d0.js";/* empty css            */import"./heading-small-CgOi6Snu.js";import"./index-Bk5fKNgg.js";import"./index-CTAdxxA7.js";import"./index-C5MympBQ.js";import"./check-qxtGonGv.js";import"./index-Bi1bFxLT.js";import"./loader-circle-DOrIrtt6.js";import"./badge-C7EfGUZH.js";function Ke(a){const e=ie.c(116),{pulauOptions:n,jenisDataOptions:i,statusOptions:s,initialData:l,onSuccess:r,submitRoute:c,method:m}=a,u=m===void 0?"post":m,[d,j]=ne.useTransition(),_=l?.id_pulau??"",g=l?.id_jenis_data??"",f=l?.tahun??"",x=l?.dokumen_nama??"",p=l?.dokumen_path??"",b=l?.dokumen_url??"",y=l?.status??"";let k;e[0]!==_||e[1]!==g||e[2]!==f||e[3]!==x||e[4]!==p||e[5]!==b||e[6]!==y?(k={id_pulau:_,id_jenis_data:g,tahun:f,dokumen_nama:x,dokumen_path:p,dokumen_url:b,dokumen:void 0,status:y,_method:"PUT"},e[0]=_,e[1]=g,e[2]=f,e[3]=x,e[4]=p,e[5]=b,e[6]=y,e[7]=k):k=e[7];const{data:o,setData:v,errors:h,reset:ke,setError:ye}=qe(k);let de;e[8]!==h||e[9]!==v||e[10]!==ye?(de=(D,oe)=>{v(D,oe),h[D]&&ye(D,"")},e[8]=h,e[9]=v,e[10]=ye,e[11]=de):de=e[11];const S=de;let ue;e[12]!==o||e[13]!==l||e[14]!==u||e[15]!==r||e[16]!==ke||e[17]!==c?(ue=D=>{D.preventDefault(),j(()=>{const oe=new FormData;Object.entries(o).forEach(Ge=>{const[We,Oe]=Ge;Oe!=null&&oe.append(We,Oe)}),u==="put"&&l?.id?_t({url:c,id:l.id,data:oe,label:"Data Pantai",onSuccess:()=>{r?.()}}):Ze({url:"/kelola-data/pantai",data:oe,label:"Data Pantai",onSuccess:()=>{ke(),r?.()}})})},e[12]=o,e[13]=l,e[14]=u,e[15]=r,e[16]=ke,e[17]=c,e[18]=ue):ue=e[18];const Ce=ue,ve=u==="put"&&"px-4";let O;e[19]!==ve?(O=st("flex flex-col gap-4",ve),e[19]=ve,e[20]=O):O=e[20];let me;e[21]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(re,{children:"Nama Pulau"}),e[21]=me):me=e[21];let P;e[22]!==o.id_pulau?(P=o.id_pulau?.toString()??"",e[22]=o.id_pulau,e[23]=P):P=e[23];let N;e[24]!==S?(N=D=>S("id_pulau",Number(D)),e[24]=S,e[25]=N):N=e[25];let he;e[26]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(Pe,{children:t.jsx(Ne,{placeholder:"-- Pilih pulau --"})}),e[26]=he):he=e[26];let T;e[27]!==n?(T=n.map(vt),e[27]=n,e[28]=T):T=e[28];let w;e[29]!==T?(w=t.jsx(Te,{children:t.jsx(we,{children:T})}),e[29]=T,e[30]=w):w=e[30];let A;e[31]!==P||e[32]!==N||e[33]!==w?(A=t.jsxs(Ae,{value:P,onValueChange:N,children:[he,w]}),e[31]=P,e[32]=N,e[33]=w,e[34]=A):A=e[34];let $;e[35]!==h.id_pulau?($=h.id_pulau&&t.jsx(ce,{message:h.id_pulau}),e[35]=h.id_pulau,e[36]=$):$=e[36];let F;e[37]!==A||e[38]!==$?(F=t.jsxs("div",{children:[me,A,$]}),e[37]=A,e[38]=$,e[39]=F):F=e[39];let pe;e[40]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(re,{children:"Jenis Data"}),e[40]=pe):pe=e[40];let E;e[41]!==o.id_jenis_data?(E=o.id_jenis_data?.toString()??"",e[41]=o.id_jenis_data,e[42]=E):E=e[42];let I;e[43]!==S?(I=D=>S("id_jenis_data",Number(D)),e[43]=S,e[44]=I):I=e[44];let fe;e[45]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Pe,{children:t.jsx(Ne,{placeholder:"-- Pilih jenis data --"})}),e[45]=fe):fe=e[45];let R;e[46]!==i?(R=i.map(Ct),e[46]=i,e[47]=R):R=e[47];let L;e[48]!==R?(L=t.jsx(Te,{children:t.jsx(we,{children:R})}),e[48]=R,e[49]=L):L=e[49];let M;e[50]!==E||e[51]!==I||e[52]!==L?(M=t.jsxs(Ae,{value:E,onValueChange:I,children:[fe,L]}),e[50]=E,e[51]=I,e[52]=L,e[53]=M):M=e[53];let z;e[54]!==h.id_jenis_data?(z=h.id_jenis_data&&t.jsx(ce,{message:h.id_jenis_data}),e[54]=h.id_jenis_data,e[55]=z):z=e[55];let U;e[56]!==M||e[57]!==z?(U=t.jsxs("div",{children:[pe,M,z]}),e[56]=M,e[57]=z,e[58]=U):U=e[58];let xe;e[59]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(re,{children:"Tahun"}),e[59]=xe):xe=e[59];const Be=o.tahun;let H;e[60]!==S?(H=D=>S("tahun",D),e[60]=S,e[61]=H):H=e[61];let je;e[62]===Symbol.for("react.memo_cache_sentinel")?(je=new Date().getFullYear(),e[62]=je):je=e[62];let Y;e[63]!==o.tahun||e[64]!==H?(Y=t.jsx(St,{value:Be,onChange:H,placeholder:"Pilih tahun",minYear:1950,maxYear:je}),e[63]=o.tahun,e[64]=H,e[65]=Y):Y=e[65];let V;e[66]!==h.tahun?(V=h.tahun&&t.jsx(ce,{message:h.tahun}),e[66]=h.tahun,e[67]=V):V=e[67];let J;e[68]!==Y||e[69]!==V?(J=t.jsxs("div",{className:"flex flex-col gap-2",children:[xe,Y,V]}),e[68]=Y,e[69]=V,e[70]=J):J=e[70];let ge;e[71]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(re,{children:"Upload Dokumen"}),e[71]=ge):ge=e[71];let K;e[72]!==S?(K=t.jsx(gt,{type:"file",onChange:D=>S("dokumen",D.target.files?.[0])}),e[72]=S,e[73]=K):K=e[73];let B;e[74]!==h.dokumen?(B=h.dokumen&&t.jsx(ce,{message:h.dokumen}),e[74]=h.dokumen,e[75]=B):B=e[75];let G;e[76]!==o.dokumen_nama||e[77]!==o.dokumen_url?(G=o.dokumen_url?t.jsxs("div",{className:"text-sm text-gray-600",children:["Current file:"," ",t.jsx("a",{href:o.dokumen_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:o.dokumen_nama.split("/").pop()})]}):t.jsx("p",{className:"text-sm text-gray-500",children:"No file uploaded yet"}),e[76]=o.dokumen_nama,e[77]=o.dokumen_url,e[78]=G):G=e[78];let W;e[79]!==K||e[80]!==B||e[81]!==G?(W=t.jsxs("div",{children:[ge,K,B,G]}),e[79]=K,e[80]=B,e[81]=G,e[82]=W):W=e[82];let _e;e[83]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(re,{children:"Status"}),e[83]=_e):_e=e[83];let q;e[84]!==o.status?(q=o.status?.toString()??"",e[84]=o.status,e[85]=q):q=e[85];let Q;e[86]!==S?(Q=D=>S("status",Number(D)),e[86]=S,e[87]=Q):Q=e[87];let Se;e[88]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(Pe,{children:t.jsx(Ne,{placeholder:"-- Pilih status --"})}),e[88]=Se):Se=e[88];let X;e[89]!==s?(X=s.map(yt),e[89]=s,e[90]=X):X=e[90];let Z;e[91]!==X?(Z=t.jsx(Te,{children:t.jsx(we,{children:X})}),e[91]=X,e[92]=Z):Z=e[92];let ee;e[93]!==q||e[94]!==Q||e[95]!==Z?(ee=t.jsxs(Ae,{value:q,onValueChange:Q,children:[Se,Z]}),e[93]=q,e[94]=Q,e[95]=Z,e[96]=ee):ee=e[96];let te;e[97]!==h.status?(te=h.status&&t.jsx(ce,{message:h.status}),e[97]=h.status,e[98]=te):te=e[98];let ae;e[99]!==ee||e[100]!==te?(ae=t.jsxs("div",{children:[_e,ee,te]}),e[99]=ee,e[100]=te,e[101]=ae):ae=e[101];let se;e[102]!==O||e[103]!==F||e[104]!==U||e[105]!==J||e[106]!==W||e[107]!==ae?(se=t.jsxs("div",{className:O,children:[F,U,J,W,ae]}),e[102]=O,e[103]=F,e[104]=U,e[105]=J,e[106]=W,e[107]=ae,e[108]=se):se=e[108];let le;e[109]!==d||e[110]!==u?(le=u==="post"?t.jsxs(Le,{className:"gap-2 pt-2 sm:space-x-0",children:[t.jsx(Me,{asChild:!0,children:t.jsx(C,{type:"button",variant:"outline",children:"Cancel"})}),t.jsxs(C,{disabled:d,children:[d&&t.jsx($e,{className:"mr-1.5 size-4 animate-spin"}),"Create"]})]}):t.jsxs(lt,{className:"gap-2 pt-2 sm:space-x-0",children:[t.jsx(nt,{asChild:!0,children:t.jsx(C,{type:"button",variant:"outline",children:"Cancel"})}),t.jsxs(C,{disabled:d,children:[d&&t.jsx($e,{className:"mr-1.5 size-4 animate-spin"}),"Save"]})]}),e[109]=d,e[110]=u,e[111]=le):le=e[111];let De;return e[112]!==Ce||e[113]!==se||e[114]!==le?(De=t.jsxs("form",{onSubmit:Ce,className:"flex flex-col gap-4",children:[se,le]}),e[112]=Ce,e[113]=se,e[114]=le,e[115]=De):De=e[115],De}function yt(a){return t.jsx(Fe,{value:a.id.toString(),children:a.nama},a.id)}function Ct(a){return t.jsx(Fe,{value:a.id.toString(),children:a.nama},a.id)}function vt(a){return t.jsx(Fe,{value:a.id.toString(),children:a.nama},a.id)}function Ot(a){const e=ie.c(24);let n,i,s,l,r;e[0]!==a?({data:n,pulauOptions:s,jenisDataOptions:l,statusOptions:r,...i}=a,e[0]=a,e[1]=n,e[2]=i,e[3]=s,e[4]=l,e[5]=r):(n=e[1],i=e[2],s=e[3],l=e[4],r=e[5]);let c;e[6]!==s?(c=s===void 0?[]:s,e[6]=s,e[7]=c):c=e[7];const m=c;let u;e[8]!==l?(u=l===void 0?[]:l,e[8]=l,e[9]=u):u=e[9];const d=u;let j;e[10]!==r?(j=r===void 0?[]:r,e[10]=r,e[11]=j):j=e[11];const _=j;let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs(ot,{className:"text-left",children:[t.jsx(rt,{children:"Update Data Pantai"}),t.jsx(ct,{children:"Perbarui data jenis data dan simpan perubahan."})]}),e[12]=g):g=e[12];let f;e[13]!==i?(f=()=>i.onOpenChange?.(!1),e[13]=i,e[14]=f):f=e[14];let x;e[15]!==n||e[16]!==d||e[17]!==m||e[18]!==_||e[19]!==f?(x=t.jsxs(dt,{className:"flex flex-col gap-6 sm:max-w-md",children:[g,t.jsx(Ke,{initialData:n,pulauOptions:m,jenisDataOptions:d,statusOptions:_,method:"put",submitRoute:"/kelola-data/pantai",onSuccess:f})]}),e[15]=n,e[16]=d,e[17]=m,e[18]=_,e[19]=f,e[20]=x):x=e[20];let p;return e[21]!==i||e[22]!==x?(p=t.jsx(it,{...i,children:x}),e[21]=i,e[22]=x,e[23]=p):p=e[23],p}function Pt(a){const e=ie.c(32);let n,i,s,l,r,c;e[0]!==a?({data:n,url:c,label:l,onSuccess:i,showTrigger:r,...s}=a,e[0]=a,e[1]=n,e[2]=i,e[3]=s,e[4]=l,e[5]=r,e[6]=c):(n=e[1],i=e[2],s=e[3],l=e[4],r=e[5],c=e[6]);const m=l===void 0?"item":l,u=r===void 0?!0:r,[d,j]=ne.useTransition();ne.useState(!1);let _;e[7]!==n||e[8]!==m||e[9]!==i||e[10]!==s||e[11]!==c?(_=()=>{j(()=>{Array.isArray(n)?Ee.delete(c,{data:{ids:n},onSuccess:()=>{be.success(`${n.length} ${m??"item"} deleted successfully`),s.onOpenChange?.(!1),i?.()},onError:Tt}):Ee.delete(`${c}/${n}`,{onSuccess:()=>{be.success(`${m??"Item"} deleted successfully`),s.onOpenChange?.(!1),i?.()},onError:Nt})})},e[7]=n,e[8]=m,e[9]=i,e[10]=s,e[11]=c,e[12]=_):_=e[12];const g=_;let f;e[13]!==u?(f=u&&t.jsx(Ue,{asChild:!0,children:t.jsxs(C,{variant:"outline",size:"sm",children:[t.jsx(bt,{className:"mr-2 size-4","aria-hidden":"true"}),"Delete"]})}),e[13]=u,e[14]=f):f=e[14];let x;e[15]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(He,{children:"Are you absolutely sure?"}),e[15]=x):x=e[15];let p;e[16]!==m?(p=t.jsxs(Ye,{children:[x,t.jsxs(Ve,{children:["This action cannot be undone. This will permanently delete"," ",t.jsx("span",{className:"font-medium",children:m})," from our servers."]})]}),e[16]=m,e[17]=p):p=e[17];let b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(Me,{asChild:!0,children:t.jsx(C,{variant:"outline",children:"Cancel"})}),e[18]=b):b=e[18];let y;e[19]!==d?(y=d&&t.jsx($e,{className:"mr-1.5 size-4 animate-spin","aria-hidden":"true"}),e[19]=d,e[20]=y):y=e[20];let k;e[21]!==g||e[22]!==d||e[23]!==y?(k=t.jsxs(Le,{className:"gap-2 sm:space-x-0",children:[b,t.jsxs(C,{variant:"destructive",onClick:g,disabled:d,children:[y,"Delete"]})]}),e[21]=g,e[22]=d,e[23]=y,e[24]=k):k=e[24];let o;e[25]!==p||e[26]!==k?(o=t.jsxs(Je,{children:[p,k]}),e[25]=p,e[26]=k,e[27]=o):o=e[27];let v;return e[28]!==s||e[29]!==o||e[30]!==f?(v=t.jsxs(ze,{...s,children:[f,o]}),e[28]=s,e[29]=o,e[30]=f,e[31]=v):v=e[31],v}function Nt(){return be.error("Failed to delete")}function Tt(){return be.error("Failed to delete")}const wt=(a,e,n)=>[{id:"select",header:({table:s})=>t.jsx(Ie,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:l=>s.toggleAllPageRowsSelected(!!l),"aria-label":"Select all"}),cell:({row:s})=>t.jsx(Ie,{checked:s.getIsSelected(),onCheckedChange:l=>s.toggleSelected(!!l),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorFn:s=>s.pulau?.nama??"-",header:"Pulau"},{accessorFn:s=>s.jenis_data?.nama??"-",header:"Jenis Data"},{accessorKey:"tahun",header:"Tahun"},{accessorKey:"dokumen_nama",header:"Nama Dokumen",cell:({row:s})=>t.jsx(Dt,{nama:s.original?.dokumen_nama,path:s.original?.dokumen_path})},{accessorKey:"status",header:"Status",cell:({row:s})=>t.jsx(kt,{status:s.original?.status})},{id:"actions",cell:({row:s})=>{const[l,r]=ne.useState(!1),[c,m]=ne.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Ot,{open:l,onOpenChange:r,pulauOptions:a,jenisDataOptions:e,statusOptions:n,data:s.original}),t.jsx(Pt,{open:c,onOpenChange:m,data:s.original.id,url:"/data-pantai",label:s.original.dokumen_nama||"Data Pantai",onSuccess:()=>s.toggleSelected(!1),showTrigger:!1}),t.jsxs(ut,{children:[t.jsx(mt,{asChild:!0,children:t.jsxs(C,{variant:"ghost",className:"h-8 w-8 p-0",children:[t.jsx("span",{className:"sr-only",children:"Open Menu"}),t.jsx(et,{className:"h-4 w-4"})]})}),t.jsxs(ht,{align:"end",children:[t.jsx(pt,{children:"Actions"}),t.jsx(ft,{}),t.jsx(Re,{onClick:()=>{r(!0)},children:"Edit"}),t.jsx(Re,{children:"Delete"})]})]})]})}}];function At(a){const e=ie.c(10),{pulauOptions:n,jenisDataOptions:i,statusOptions:s}=a,[l,r]=ne.useState(!1);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(Ue,{asChild:!0,children:t.jsxs(C,{variant:"outline",size:"sm",children:[t.jsx(tt,{className:"mr-2 h-4 w-4"})," Add Data Pantai"]})}),e[0]=c):c=e[0];let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsxs(Ye,{children:[t.jsx(He,{children:"Create Data Pantai"}),t.jsx(Ve,{children:"Lengkapi data berikut untuk menambahkan data anggaran pantai baru."})]}),e[1]=m):m=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>r(!1),e[2]=u):u=e[2];let d;e[3]!==i||e[4]!==n||e[5]!==s?(d=t.jsxs(Je,{children:[m,t.jsx(Ke,{pulauOptions:n,jenisDataOptions:i,statusOptions:s,submitRoute:"/data-pantai",onSuccess:u})]}),e[3]=i,e[4]=n,e[5]=s,e[6]=d):d=e[6];let j;return e[7]!==l||e[8]!==d?(j=t.jsxs(ze,{open:l,onOpenChange:r,children:[c,d]}),e[7]=l,e[8]=d,e[9]=j):j=e[9],j}function $t(a){const e=ie.c(4),{pulauOptions:n,jenisDataOptions:i,statusOptions:s}=a;let l;return e[0]!==i||e[1]!==n||e[2]!==s?(l=t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(At,{pulauOptions:n,jenisDataOptions:i,statusOptions:s})}),e[0]=i,e[1]=n,e[2]=s,e[3]=l):l=e[3],l}const Ft=[{title:"Data Pantai",href:jt.index().url}];function aa(){const a=ie.c(21),{data_pantai:e,pulauOptions:n,jenisDataOptions:i,statusOptions:s}=Qe().props;let l;a[0]!==i||a[1]!==n||a[2]!==s?(l=wt(n,i,s),a[0]=i,a[1]=n,a[2]=s,a[3]=l):l=a[3];const r=l;let c;a[4]!==e?(c=Array.isArray(e)?e:[],a[4]=e,a[5]=c):c=a[5];const m=c;let u;a[6]!==n?(u=Array.isArray(n)?n:[],a[6]=n,a[7]=u):u=a[7];const d=u;let j;a[8]!==i?(j=Array.isArray(i)?i:[],a[8]=i,a[9]=j):j=a[9];const _=j;let g;a[10]!==s?(g=Array.isArray(s)?s:[],a[10]=s,a[11]=g):g=a[11];const f=g;let x;a[12]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(Xe,{title:"Data Pantai"}),a[12]=x):x=a[12];let p;a[13]!==_||a[14]!==d||a[15]!==f?(p=t.jsx($t,{pulauOptions:d,jenisDataOptions:_,statusOptions:f}),a[13]=_,a[14]=d,a[15]=f,a[16]=p):p=a[16];let b;return a[17]!==m||a[18]!==p||a[19]!==r?(b=t.jsxs(xt,{breadcrumbs:Ft,children:[x,t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:t.jsx(at,{title:"Data Pantai",desc:"Data anggaran khusus kategori pantai",columns:r,data:m,toolbar:p})})]}),a[17]=m,a[18]=p,a[19]=r,a[20]=b):b=a[20],b}export{aa as default};
