import{c as _,r as E,d as W,j as a,u as X,H as Y}from"./app-D79IQ-IV.js";import{u as Z,c as ee,L as R,E as te,P as ae,g as re,D as se}from"./app-table-D5miGN1j.js";import{S as le,a as ne,b as ie,c as oe,d as ce,e as ue,f as de,D as me,g as he,h as pe,i as je,j as fe,k as L,A as xe}from"./app-layout-CfLIBzRh.js";import{B as f}from"./app-logo-icon-BZ61xCZT.js";import{D as ge}from"./delete-pulau-dialog-Bh7-7oTD.js";import{C as $}from"./checkbox-mqXrcu3B.js";import{I as ye}from"./input-Dfq6cyLK.js";import{L as Se}from"./label-CQ0GgpC3.js";import{D as be,a as De,c as ke,e as _e,d as Ce,f as Ue,g as Ne,b as ve}from"./dialog-BDl_lnC_.js";import{I as we}from"./input-error-CpxGRX1v.js";import{q as K,a as z,v as Ee}from"./index-Bi1bFxLT.js";/* empty css            */import"./heading-small-BWEk153F.js";import"./index-BSeEvJEN.js";import"./index-hkYyGBbE.js";import"./index-BWwWhpwj.js";import"./check-zzgzmlxW.js";import"./loader-circle-BFyPxw7t.js";import"./trash-0m2Dnk5n.js";function H(t){const e=_.c(35),{initialData:r,onSuccess:s,submitRoute:l,method:i}=t,n=i===void 0?"post":i,[c,T]=E.useTransition(),C=r?.nama??"";let x;e[0]!==C?(x={nama:C},e[0]=C,e[1]=x):x=e[1];const{data:p,setData:Q,errors:h,reset:A,setError:M}=W(x);let U;e[2]!==h||e[3]!==Q||e[4]!==M?(U=(j,J)=>{Q(j,J),h[j]&&M(j,"")},e[2]=h,e[3]=Q,e[4]=M,e[5]=U):U=e[5];const P=U;let N;e[6]!==p||e[7]!==r||e[8]!==n||e[9]!==s||e[10]!==A||e[11]!==l?(N=j=>{j.preventDefault(),T(()=>{n==="put"&&r?.id?Z({url:l,id:r.id,data:p,label:"Unit Kerja",onSuccess:s}):ee({url:"/master-data/unit-kerja",data:p,label:"Unit Kerja",onSuccess:()=>{A(),s?.()}})})},e[6]=p,e[7]=r,e[8]=n,e[9]=s,e[10]=A,e[11]=l,e[12]=N):N=e[12];const q=N,O=h.nama&&"text-red-500";let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx("span",{className:"text-red-500",children:"*"}),e[13]=v):v=e[13];let g;e[14]!==O?(g=a.jsxs(Se,{className:O,children:["Nama Unit Kerja",v]}),e[14]=O,e[15]=g):g=e[15];let y;e[16]!==P?(y=j=>P("nama",j.target.value),e[16]=P,e[17]=y):y=e[17];const F=h.nama&&"border-red-500 placeholder:text-red-500";let S;e[18]!==p.nama||e[19]!==F||e[20]!==y?(S=a.jsx(ye,{value:p.nama,onChange:y,placeholder:"Masukkan nama unit kerja",className:F}),e[18]=p.nama,e[19]=F,e[20]=y,e[21]=S):S=e[21];let b;e[22]!==h.nama?(b=h.nama&&a.jsx(we,{message:h.nama}),e[22]=h.nama,e[23]=b):b=e[23];let D;e[24]!==S||e[25]!==b||e[26]!==g?(D=a.jsx("div",{className:"flex flex-col gap-4",children:a.jsxs("div",{children:[g,S,b]})}),e[24]=S,e[25]=b,e[26]=g,e[27]=D):D=e[27];let k;e[28]!==c||e[29]!==n?(k=n==="post"?a.jsxs(be,{className:"gap-2 pt-2 sm:space-x-0",children:[a.jsx(De,{asChild:!0,children:a.jsx(f,{type:"button",variant:"outline",children:"Cancel"})}),a.jsxs(f,{disabled:c,children:[c&&a.jsx(R,{className:"mr-1.5 size-4 animate-spin"}),"Create"]})]}):a.jsxs(le,{className:"gap-2 pt-2 sm:space-x-0",children:[a.jsx(ne,{asChild:!0,children:a.jsx(f,{type:"button",variant:"outline",children:"Cancel"})}),a.jsxs(f,{disabled:c,children:[c&&a.jsx(R,{className:"mr-1.5 size-4 animate-spin"}),"Save"]})]}),e[28]=c,e[29]=n,e[30]=k):k=e[30];let w;return e[31]!==q||e[32]!==D||e[33]!==k?(w=a.jsxs("form",{onSubmit:q,className:"flex flex-col gap-4",children:[D,k]}),e[31]=q,e[32]=D,e[33]=k,e[34]=w):w=e[34],w}function Ke(t){const e=_.c(12);let r,s;if(e[0]!==t){const{data:T,onClose:C,...x}=t;r=T,s=x,e[0]=t,e[1]=r,e[2]=s}else r=e[1],s=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsxs(oe,{className:"text-left",children:[a.jsx(ce,{children:"Update Pulau"}),a.jsx(ue,{children:"Perbarui data pulau dan simpan perubahan."})]}),e[3]=l):l=e[3];let i;e[4]!==s?(i=()=>{s.onOpenChange?.(!1)},e[4]=s,e[5]=i):i=e[5];let n;e[6]!==r||e[7]!==i?(n=a.jsxs(de,{className:"flex flex-col gap-6 sm:max-w-md",children:[l,a.jsx(H,{initialData:r,method:"put",submitRoute:"/master-data/unit-kerja",onSuccess:i})]}),e[6]=r,e[7]=i,e[8]=n):n=e[8];let c;return e[9]!==s||e[10]!==n?(c=a.jsx(ie,{...s,children:n}),e[9]=s,e[10]=n,e[11]=c):c=e[11],c}const Te=[{id:"select",header:({table:t})=>a.jsx($,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"}),cell:({row:t})=>a.jsx($,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"nama",header:"Nama Unit Kerja"},{id:"actions",cell:({row:t})=>{const[e,r]=E.useState(!1),[s,l]=E.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(Ke,{open:e,onOpenChange:r,data:t.original}),a.jsx(ge,{open:s,onOpenChange:l,data:t.original.id,url:"/master-data/pulau",label:t.original.nama,onSuccess:()=>t.toggleSelected(!1),showTrigger:!1}),a.jsxs(me,{children:[a.jsx(he,{asChild:!0,children:a.jsxs(f,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open Menu"}),a.jsx(te,{className:"h-4 w-4"})]})}),a.jsxs(pe,{align:"end",children:[a.jsx(je,{children:"Actions"}),a.jsx(fe,{}),a.jsx(L,{children:"View Detail"}),a.jsx(L,{onSelect:()=>r(!0),children:"Edit"}),a.jsx(L,{onSelect:()=>l(!0),children:"Delete"})]})]})]})}}],o=t=>({url:o.url(t),method:"get"});o.definition={methods:["get","head"],url:"/master-data/unit-kerja"};o.url=t=>o.definition.url+K(t);o.get=t=>({url:o.url(t),method:"get"});o.head=t=>({url:o.url(t),method:"head"});const I=t=>({action:o.url(t),method:"get"});I.get=t=>({action:o.url(t),method:"get"});I.head=t=>({action:o.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});o.form=I;const u=t=>({url:u.url(t),method:"post"});u.definition={methods:["post"],url:"/master-data/unit-kerja"};u.url=t=>u.definition.url+K(t);u.post=t=>({url:u.url(t),method:"post"});const B=t=>({action:u.url(t),method:"post"});B.post=t=>({action:u.url(t),method:"post"});u.form=B;const d=(t,e)=>({url:d.url(t,e),method:"put"});d.definition={methods:["put"],url:"/master-data/unit-kerja/{unit_kerja}"};d.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={unit_kerja:t}),Array.isArray(t)&&(t={unit_kerja:t[0]}),t=z(t);const r={unit_kerja:t.unit_kerja};return d.definition.url.replace("{unit_kerja}",r.unit_kerja.toString()).replace(/\/+$/,"")+K(e)};d.put=(t,e)=>({url:d.url(t,e),method:"put"});const V=(t,e)=>({action:d.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});V.put=(t,e)=>({action:d.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});d.form=V;const m=(t,e)=>({url:m.url(t,e),method:"delete"});m.definition={methods:["delete"],url:"/master-data/unit-kerja/{unit_kerja?}"};m.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={unit_kerja:t}),Array.isArray(t)&&(t={unit_kerja:t[0]}),t=z(t),Ee(t,["unit_kerja"]);const r={unit_kerja:t?.unit_kerja};return m.definition.url.replace("{unit_kerja?}",r.unit_kerja?.toString()??"").replace(/\/+$/,"")+K(e)};m.delete=(t,e)=>({url:m.url(t,e),method:"delete"});const G=(t,e)=>({action:m.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});G.delete=(t,e)=>({action:m.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});m.form=G;const Qe={index:Object.assign(o,o),store:Object.assign(u,u),update:Object.assign(d,d),delete:Object.assign(m,m)};function Ae(){const t=_.c(5),[e,r]=E.useState(!1);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(ke,{asChild:!0,children:a.jsxs(f,{variant:"outline",size:"sm",children:[a.jsx(ae,{className:"mr-2 size-4"})," Add Unit Kerja"]})}),t[0]=s):s=t[0];let l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsxs(_e,{children:[a.jsx(Ce,{children:"Create Unit Kerja"}),a.jsx(Ue,{children:"Lengkapi data berikut untuk menambahkan unit kerja baru."})]}),t[1]=l):l=t[1];let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsxs(Ne,{children:[l,a.jsx(H,{submitRoute:"/master-data/unit-kerja",onSuccess:()=>r(!1)})]}),t[2]=i):i=t[2];let n;return t[3]!==e?(n=a.jsxs(ve,{open:e,onOpenChange:r,children:[s,i]}),t[3]=e,t[4]=n):n=t[4],n}function Me(){const t=_.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx(Ae,{}),t[0]=e):e=t[0];let r;return t[1]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsxs("div",{className:"flex items-center gap-2",children:[e,a.jsxs(f,{variant:"outline",size:"sm",children:[a.jsx(re,{className:"mr-2 size-4","aria-hidden":"true"}),"Export"]})]}),t[1]=r):r=t[1],r}Qe.index().url;function tt(){const t=_.c(4),{unit_kerja:e}=X().props;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(Y,{title:"Master Data Unit Kerja"}),t[0]=r):r=t[0];let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(Me,{}),t[1]=s):s=t[1];let l;return t[2]!==e?(l=a.jsxs(xe,{children:[r,a.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:a.jsx(se,{title:"Unit Kerja",desc:"Master data unit kerja",columns:Te,data:e,toolbar:s})})]}),t[2]=e,t[3]=l):l=t[3],l}export{tt as default};
