import{c as $,r as v,j as s,b as S}from"./app-D79IQ-IV.js";import{t as D}from"./app-layout-CfLIBzRh.js";import{B as C}from"./app-logo-icon-BZ61xCZT.js";import{b as E,c as N,d as w,e as z,f as A,a as F,D as B,g as L}from"./dialog-BDl_lnC_.js";import{T as O}from"./trash-0m2Dnk5n.js";import{L as R}from"./app-table-D5miGN1j.js";function M(T){const e=$.c(32);let l,r,t,f,h,i;e[0]!==T?({data:l,url:i,label:f,onSuccess:r,showTrigger:h,...t}=T,e[0]=T,e[1]=l,e[2]=r,e[3]=t,e[4]=f,e[5]=h,e[6]=i):(l=e[1],r=e[2],t=e[3],f=e[4],h=e[5],i=e[6]);const a=f===void 0?"item":f,b=h===void 0?!0:h,[o,_]=v.useTransition();v.useState(!1);let p;e[7]!==l||e[8]!==a||e[9]!==r||e[10]!==t||e[11]!==i?(p=()=>{_(()=>{Array.isArray(l)?S.delete(i,{data:{ids:l},onSuccess:()=>{D.success(`${l.length} ${a??"item"} deleted successfully`),t.onOpenChange?.(!1),r?.()},onError:H}):S.delete(`${i}/${l}`,{onSuccess:()=>{D.success(`${a??"Item"} deleted successfully`),t.onOpenChange?.(!1),r?.()},onError:k})})},e[7]=l,e[8]=a,e[9]=r,e[10]=t,e[11]=i,e[12]=p):p=e[12];const y=p;let n;e[13]!==b?(n=b&&s.jsx(N,{asChild:!0,children:s.jsxs(C,{variant:"outline",size:"sm",children:[s.jsx(O,{className:"mr-2 size-4","aria-hidden":"true"}),"Delete"]})}),e[13]=b,e[14]=n):n=e[14];let g;e[15]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(w,{children:"Are you absolutely sure?"}),e[15]=g):g=e[15];let c;e[16]!==a?(c=s.jsxs(z,{children:[g,s.jsxs(A,{children:["This action cannot be undone. This will permanently delete"," ",s.jsx("span",{className:"font-medium",children:a})," from our servers."]})]}),e[16]=a,e[17]=c):c=e[17];let x;e[18]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(F,{asChild:!0,children:s.jsx(C,{variant:"outline",children:"Cancel"})}),e[18]=x):x=e[18];let d;e[19]!==o?(d=o&&s.jsx(R,{className:"mr-1.5 size-4 animate-spin","aria-hidden":"true"}),e[19]=o,e[20]=d):d=e[20];let m;e[21]!==y||e[22]!==o||e[23]!==d?(m=s.jsxs(B,{className:"gap-2 sm:space-x-0",children:[x,s.jsxs(C,{variant:"destructive",onClick:y,disabled:o,children:[d,"Delete"]})]}),e[21]=y,e[22]=o,e[23]=d,e[24]=m):m=e[24];let u;e[25]!==c||e[26]!==m?(u=s.jsxs(L,{children:[c,m]}),e[25]=c,e[26]=m,e[27]=u):u=e[27];let j;return e[28]!==t||e[29]!==u||e[30]!==n?(j=s.jsxs(E,{...t,children:[n,u]}),e[28]=t,e[29]=u,e[30]=n,e[31]=j):j=e[31],j}function k(){return D.error("Failed to delete")}function H(){return D.error("Failed to delete")}export{M as D};
